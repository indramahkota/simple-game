(()=>{"use strict";var t,e={22:(t,e,o)=>{var n=o(72),i=o.n(n),r=o(825),a=o.n(r),s=o(659),c=o.n(s),u=o(56),h=o.n(u),l=o(540),d=o.n(l),p=o(113),f=o.n(p),y=o(523),m={};m.styleTagTransform=f(),m.setAttributes=h(),m.insert=c().bind(null,"head"),m.domAPI=a(),m.insertStyleElement=d();i()(y.A,m);y.A&&y.A.locals&&y.A.locals;const g={gravity:1,timeLimit:60,bookSpeed:1e3,gameWidth:640,gameHeight:960,bookWidth:70,bookHeight:99,distanceFromGround:700,localStorageName:"indramahkota_simple_game"};var v=o(440),b=o.n(v);const k={showAndroidToast:function(t){"undefined"!=typeof Android&&Android.showToast(t)},playHit1:function(){"undefined"!=typeof Android&&Android.playHit1()},playHit2:function(){"undefined"!=typeof Android&&Android.playHit2()},playHit3:function(){"undefined"!=typeof Android&&Android.playHit3()},playRemove:function(){"undefined"!=typeof Android&&Android.playRemoveSound()},removeRemove:function(){"undefined"!=typeof Android&&Android.removeRemoveSound()}},w=o.p+"assets/9c6f5.fnt",O=o.p+"assets/251a7.png",S=o.p+"assets/7009f.fnt",x=o.p+"assets/913d9.png",T=o.p+"assets/d6a51.png",P=o.p+"assets/1d8f8.png",j=o.p+"assets/d3d40.png",E=o.p+"assets/ecb07.png";function B(t){return B="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},B(t)}function _(t,e){for(var o=0;o<e.length;o++){var n=e[o];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,H(n.key),n)}}function H(t){var e=function(t,e){if("object"!=B(t)||!t)return t;var o=t[Symbol.toPrimitive];if(void 0!==o){var n=o.call(t,e||"default");if("object"!=B(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==B(e)?e:e+""}function A(t,e,o){return e=M(e),function(t,e){if(e&&("object"==B(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(t,C()?Reflect.construct(e,o||[],M(t).constructor):e.apply(t,o))}function C(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(t){}return(C=function(){return!!t})()}function M(t){return M=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},M(t)}function W(t,e){return W=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},W(t,e)}var R=function(){function t(){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),A(this,t,[{key:"PlayGame",active:!1}])}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&W(t,e)}(t,Phaser.Scene),e=t,o=[{key:"preload",value:function(){this.load.image("ground",j),this.load.image("book",P),this.load.image("shadow",E),this.load.image("book_frame",T),this.load.bitmapFont("font",O,w),this.load.bitmapFont("smallfont",x,S)}},{key:"create",value:function(){this.savedData=null===localStorage.getItem(g.localStorageName)?{score:0}:JSON.parse(localStorage.getItem(g.localStorageName)),this.matter.world.update30Hz(),this.matter.world.on("collisionstart",this.checkCollision,this),this.timer=0,this.score=0,this.lastSoundPlayed=0,this.hitSound=[k.playHit1,k.playHit2,k.playHit3],this.timerEvent=null,this.playOnce=!1,this.canDrop=!0,this.ground=this.matter.add.sprite(g.gameWidth/2,g.gameHeight,"ground"),this.ground.setBody({type:"rectangle",width:this.ground.displayWidth,height:2*this.ground.displayHeight}),this.ground.setOrigin(.5,1),this.ground.setStatic(!0),this.shadow=this.add.sprite(g.gameWidth-g.bookWidth,this.ground.getBounds().top-g.distanceFromGround,"shadow"),this.shadow.setOrigin(.5,0),this.shadow.setDisplaySize(this.shadow.displayWidth,2*this.shadow.displayHeight),this.movingBook=this.add.sprite(g.gameWidth-g.bookWidth,this.ground.getBounds().top-g.distanceFromGround,"book"),this.tweens.add({targets:[this.shadow,this.movingBook],x:g.bookWidth,duration:g.bookSpeed,yoyo:!0,repeat:-1}),this.bookGroup=this.add.group(),this.timeText=this.add.bitmapText(10,10,"font",g.timeLimit.toString(),72),this.highscoreText=this.add.bitmapText(g.gameWidth,0,"smallfont","Skor Tertinggi: "+this.savedData.score,32),this.highscoreText.x=this.highscoreText.x-this.highscoreText.width-10,this.highscoreText.y=this.highscoreText.y+this.highscoreText.height/2,this.scoreText=this.add.bitmapText(g.gameWidth/2,g.gameHeight/2,"smallfont","Skor: 0",32),this.scoreText.x=(g.gameWidth-this.scoreText.width)/2,this.scoreText.y=(g.gameHeight-this.scoreText.height)/2,this.scoreText.visible=!1,this.actionCamera=this.cameras.add(0,0,g.gameWidth,g.gameHeight),this.actionCamera.ignore([this.timeText,this.highscoreText,this.scoreText]),this.cameras.main.ignore([this.ground,this.shadow,this.movingBook]),this.input.on("pointerdown",this.dropBook,this)}},{key:"update",value:function(){var t=this;this.bookGroup.getChildren().forEach((function(e){var o=Math.round((t.ground.getBounds().top-e.getBounds().top)/e.displayHeight)-1;e.body.mass=Math.abs(100*(o-20)),e.body.frictionStatic=Math.abs(100*(o-20)),e.y>g.gameHeight+e.displayHeight&&(e.body.hit||t.nextBook(),e.destroy())}),this)}},{key:"checkCollision",value:function(t,e,o){e.isBook&&!e.hit&&(e.hit=!0,this.nextBook()),o.isBook&&!o.hit&&(o.hit=!0,this.nextBook()),Date.now()-this.lastSoundPlayed>250&&this.timer<=g.timeLimit&&(this.lastSoundPlayed=Date.now(),Phaser.Math.RND.pick(this.hitSound)())}},{key:"nextBook",value:function(){this.zoomCamera(),this.canDrop=!0,this.shadow.visible=!0,this.movingBook.visible=!0}},{key:"zoomCamera",value:function(){var t=this,e=0;this.bookGroup.getChildren().forEach((function(o){if(o.body.hit){var n=Math.round((t.ground.getBounds().top-o.getBounds().top)/o.displayHeight);e=Math.max(e,n)}}),this),this.movingBook.y=this.ground.getBounds().top-e*g.bookHeight-g.distanceFromGround,this.shadow.y=this.movingBook.y;var o=g.distanceFromGround/(this.ground.getBounds().top-this.movingBook.y);this.actionCamera.zoomTo(o,500);var n=g.gameHeight/o;this.actionCamera.pan(g.gameWidth/2,g.gameHeight/2-(n-g.gameHeight)/2,500)}},{key:"dropBook",value:function(){this.input.stopPropagation(),this.canDrop&&this.timer<g.timeLimit&&(this.addTimerEvent(),this.canDrop=!1,this.shadow.visible=!1,this.movingBook.visible=!1,this.addFallingBook())}},{key:"addTimerEvent",value:function(){null==this.timerEvent&&(this.timerEvent=this.time.addEvent({delay:1e3,callback:this.tick,callbackScope:this,loop:!0}))}},{key:"addFallingBook",value:function(){var t=this.matter.add.sprite(this.movingBook.x,this.movingBook.y,"book");t.setBounce(0),t.setDensity(100),t.body.isBook=!0,t.body.hit=!1,this.bookGroup.add(t),this.cameras.main.ignore(t)}},{key:"tick",value:function(){this.paused||(this.timer++,this.timeText.text=(g.timeLimit-this.timer).toString()),this.timer>=g.timeLimit&&(this.timerEvent.remove(),this.shadow.destroy(),this.movingBook.destroy(),this.time.addEvent({delay:5e3,callback:function(){this.matter.world.destroy(),this.bookGroup.getChildren().forEach((function(t){t.body.hit&&(t.sign=Math.round((this.ground.getBounds().top-t.getBounds().top)/t.displayHeight))}),this),this.bookGroup.getChildren().sort((function(t,e){return t.sign===e.sign?t.x-e.x:t.sign-e.sign})),this.bookGroup.getChildren().reverse(),this.scoreText.visible=!0,this.removeEvent=this.time.addEvent({delay:500,callback:this.destroyBook,callbackScope:this,loop:!0})},callbackScope:this}))}},{key:"destroyBook",value:function(){if(this.bookGroup.getChildren().length>0){var t=this.bookGroup.getChildren()[0];this.score+=t.sign,this.scoreText.text="Skor: "+this.score.toString(),this.scoreText.x=(g.gameWidth-this.scoreText.width)/2,this.scoreText.y=(g.gameHeight-this.scoreText.height)/2,this.playOnce||(this.playOnce=!0,k.playRemove());var e=this.add.bitmapText(t.x,t.y,"smallfont",t.sign.toString(),32);e.setOrigin(.5,.5),this.cameras.main.ignore(e);var o=this.matter.add.sprite(t.x,t.y,"book_frame");o.rotation=t.rotation,this.cameras.main.ignore(o),o.setStatic(!0),t.destroy()}else this.playOnce=!1,k.removeRemove(),this.removeEvent.remove(),localStorage.setItem(g.localStorageName,JSON.stringify({score:Math.max(this.score,this.savedData.score)})),this.timerPlayAgain=this.time.addEvent({delay:3e3,callback:this.playAgain,callbackScope:this,loop:!1})}},{key:"playAgain",value:function(){this.scene.setActive(!1,"PlayGame"),this.scene.start("Menu")}}],o&&_(e.prototype,o),n&&_(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e;var e,o,n}();const G=o.p+"assets/b8c77.png";function N(t){return N="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},N(t)}function D(t,e){for(var o=0;o<e.length;o++){var n=e[o];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,I(n.key),n)}}function I(t){var e=function(t,e){if("object"!=N(t)||!t)return t;var o=t[Symbol.toPrimitive];if(void 0!==o){var n=o.call(t,e||"default");if("object"!=N(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==N(e)?e:e+""}function F(t,e,o){return e=z(e),function(t,e){if(e&&("object"==N(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(t,L()?Reflect.construct(e,o||[],z(t).constructor):e.apply(t,o))}function L(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(t){}return(L=function(){return!!t})()}function z(t){return z=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},z(t)}function U(t,e){return U=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},U(t,e)}var X=function(){function t(){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),F(this,t,[{key:"Menu",active:!0}])}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&U(t,e)}(t,Phaser.Scene),e=t,(o=[{key:"preload",value:function(){this.load.image("mulai_button",G)}},{key:"create",value:function(){var t=this;this.buttonMulai=this.add.sprite(this.cameras.main.centerX,this.cameras.main.centerY,"mulai_button"),this.buttonMulai.setInteractive().on(Phaser.Input.Events.POINTER_DOWN,(function(){t.buttonMulai.scaleX=.9,t.buttonMulai.scaleY=.9})).on(Phaser.Input.Events.POINTER_UP,(function(){t.buttonMulai.scaleX=1,t.buttonMulai.scaleY=1,t.scene.setActive(!1,"Menu"),t.scene.start("PlayGame")})).on(Phaser.Input.Events.POINTER_OUT,(function(){t.buttonMulai.scaleX=1,t.buttonMulai.scaleY=1}))}}])&&D(e.prototype,o),n&&D(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e;var e,o,n}();const Y=o.p+"assets/6a2e3.png";function J(t){return J="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},J(t)}function q(t,e){for(var o=0;o<e.length;o++){var n=e[o];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,K(n.key),n)}}function K(t){var e=function(t,e){if("object"!=J(t)||!t)return t;var o=t[Symbol.toPrimitive];if(void 0!==o){var n=o.call(t,e||"default");if("object"!=J(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==J(e)?e:e+""}function Q(t,e,o){return e=Z(e),function(t,e){if(e&&("object"==J(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(t,V()?Reflect.construct(e,o||[],Z(t).constructor):e.apply(t,o))}function V(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(t){}return(V=function(){return!!t})()}function Z(t){return Z=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},Z(t)}function $(t,e){return $=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},$(t,e)}var tt=function(){function t(){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),Q(this,t,[{key:"Static",active:!0}])}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&$(t,e)}(t,Phaser.Scene),e=t,(o=[{key:"preload",value:function(){this.load.image("sky",Y)}},{key:"create",value:function(){this.sky=this.add.image(0,0,"sky"),this.sky.setDisplaySize(g.gameWidth,g.gameHeight),this.sky.setOrigin(0,0)}}])&&q(e.prototype,o),n&&q(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e;var e,o,n}(),et=function(t){t<1.5?g.gameWidth=g.gameHeight/t:g.gameHeight=g.gameWidth*t};window.innerHeight/window.innerWidth>=1?et(window.innerHeight/window.innerWidth):et(window.innerWidth/window.innerHeight);var ot={type:b().WEBGL,scale:{mode:b().Scale.FIT,autoCenter:b().Scale.CENTER_BOTH,width:g.gameWidth,height:g.gameHeight},physics:{default:"matter",matter:{gravity:{y:g.gravity}}},audio:{noAudio:!0,disableWebAudio:!0},scene:[tt,X,R]};new(b().Game)(ot)},56:(t,e,o)=>{t.exports=function(t){var e=o.nc;e&&t.setAttribute("nonce",e)}},72:t=>{var e=[];function o(t){for(var o=-1,n=0;n<e.length;n++)if(e[n].identifier===t){o=n;break}return o}function n(t,n){for(var r={},a=[],s=0;s<t.length;s++){var c=t[s],u=n.base?c[0]+n.base:c[0],h=r[u]||0,l="".concat(u," ").concat(h);r[u]=h+1;var d=o(l),p={css:c[1],media:c[2],sourceMap:c[3],supports:c[4],layer:c[5]};if(-1!==d)e[d].references++,e[d].updater(p);else{var f=i(p,n);n.byIndex=s,e.splice(s,0,{identifier:l,updater:f,references:1})}a.push(l)}return a}function i(t,e){var o=e.domAPI(e);o.update(t);return function(e){if(e){if(e.css===t.css&&e.media===t.media&&e.sourceMap===t.sourceMap&&e.supports===t.supports&&e.layer===t.layer)return;o.update(t=e)}else o.remove()}}t.exports=function(t,i){var r=n(t=t||[],i=i||{});return function(t){t=t||[];for(var a=0;a<r.length;a++){var s=o(r[a]);e[s].references--}for(var c=n(t,i),u=0;u<r.length;u++){var h=o(r[u]);0===e[h].references&&(e[h].updater(),e.splice(h,1))}r=c}}},113:t=>{t.exports=function(t,e){if(e.styleSheet)e.styleSheet.cssText=t;else{for(;e.firstChild;)e.removeChild(e.firstChild);e.appendChild(document.createTextNode(t))}}},314:t=>{t.exports=function(t){var e=[];return e.toString=function(){return this.map((function(e){var o="",n=void 0!==e[5];return e[4]&&(o+="@supports (".concat(e[4],") {")),e[2]&&(o+="@media ".concat(e[2]," {")),n&&(o+="@layer".concat(e[5].length>0?" ".concat(e[5]):""," {")),o+=t(e),n&&(o+="}"),e[2]&&(o+="}"),e[4]&&(o+="}"),o})).join("")},e.i=function(t,o,n,i,r){"string"==typeof t&&(t=[[null,t,void 0]]);var a={};if(n)for(var s=0;s<this.length;s++){var c=this[s][0];null!=c&&(a[c]=!0)}for(var u=0;u<t.length;u++){var h=[].concat(t[u]);n&&a[h[0]]||(void 0!==r&&(void 0===h[5]||(h[1]="@layer".concat(h[5].length>0?" ".concat(h[5]):""," {").concat(h[1],"}")),h[5]=r),o&&(h[2]?(h[1]="@media ".concat(h[2]," {").concat(h[1],"}"),h[2]=o):h[2]=o),i&&(h[4]?(h[1]="@supports (".concat(h[4],") {").concat(h[1],"}"),h[4]=i):h[4]="".concat(i)),e.push(h))}},e}},523:(t,e,o)=>{o.d(e,{A:()=>s});var n=o(601),i=o.n(n),r=o(314),a=o.n(r)()(i());a.push([t.id,"* {\n  padding: 0;\n  margin: 0;\n}\n\nbody {\n  background: black;\n}\n\ncanvas {\n  touch-action: none;\n  -ms-touch-action: none;\n}\n",""]);const s=a},540:t=>{t.exports=function(t){var e=document.createElement("style");return t.setAttributes(e,t.attributes),t.insert(e,t.options),e}},601:t=>{t.exports=function(t){return t[1]}},659:t=>{var e={};t.exports=function(t,o){var n=function(t){if(void 0===e[t]){var o=document.querySelector(t);if(window.HTMLIFrameElement&&o instanceof window.HTMLIFrameElement)try{o=o.contentDocument.head}catch(t){o=null}e[t]=o}return e[t]}(t);if(!n)throw new Error("Couldn't find a style target. This probably means that the value for the 'insert' parameter is invalid.");n.appendChild(o)}},825:t=>{t.exports=function(t){if("undefined"==typeof document)return{update:function(){},remove:function(){}};var e=t.insertStyleElement(t);return{update:function(o){!function(t,e,o){var n="";o.supports&&(n+="@supports (".concat(o.supports,") {")),o.media&&(n+="@media ".concat(o.media," {"));var i=void 0!==o.layer;i&&(n+="@layer".concat(o.layer.length>0?" ".concat(o.layer):""," {")),n+=o.css,i&&(n+="}"),o.media&&(n+="}"),o.supports&&(n+="}");var r=o.sourceMap;r&&"undefined"!=typeof btoa&&(n+="\n/*# sourceMappingURL=data:application/json;base64,".concat(btoa(unescape(encodeURIComponent(JSON.stringify(r))))," */")),e.styleTagTransform(n,t,e.options)}(e,t,o)},remove:function(){!function(t){if(null===t.parentNode)return!1;t.parentNode.removeChild(t)}(e)}}}}},o={};function n(t){var i=o[t];if(void 0!==i)return i.exports;var r=o[t]={id:t,exports:{}};return e[t].call(r.exports,r,r.exports,n),r.exports}n.m=e,t=[],n.O=(e,o,i,r)=>{if(!o){var a=1/0;for(h=0;h<t.length;h++){for(var[o,i,r]=t[h],s=!0,c=0;c<o.length;c++)(!1&r||a>=r)&&Object.keys(n.O).every((t=>n.O[t](o[c])))?o.splice(c--,1):(s=!1,r<a&&(a=r));if(s){t.splice(h--,1);var u=i();void 0!==u&&(e=u)}}return e}r=r||0;for(var h=t.length;h>0&&t[h-1][2]>r;h--)t[h]=t[h-1];t[h]=[o,i,r]},n.n=t=>{var e=t&&t.__esModule?()=>t.default:()=>t;return n.d(e,{a:e}),e},n.d=(t,e)=>{for(var o in e)n.o(e,o)&&!n.o(t,o)&&Object.defineProperty(t,o,{enumerable:!0,get:e[o]})},n.o=(t,e)=>Object.prototype.hasOwnProperty.call(t,e),n.p="./",(()=>{var t={57:0};n.O.j=e=>0===t[e];var e=(e,o)=>{var i,r,[a,s,c]=o,u=0;if(a.some((e=>0!==t[e]))){for(i in s)n.o(s,i)&&(n.m[i]=s[i]);if(c)var h=c(n)}for(e&&e(o);u<a.length;u++)r=a[u],n.o(t,r)&&t[r]&&t[r][0](),t[r]=0;return n.O(h)},o=self.webpackChunkphaser3_project_template=self.webpackChunkphaser3_project_template||[];o.forEach(e.bind(null,0)),o.push=e.bind(null,o.push.bind(o))})(),n.nc=void 0;var i=n.O(void 0,[418],(()=>n(22)));i=n.O(i)})();